!function(i){var t={init:function(){this.$navMenu=i(document).find(".navigation-custom"),this.$menuOpenTrigger=i(document).find(".nav-trigger"),this.$menuOpenTrigger.on("click","a",this.openMenu.bind(this)),this.$navMenu.on("click",".close-menu a",this.closeMenu.bind(this)),i(document).on("keyup",this.closeMenu.bind(this))},openMenu:function(){this.$navMenu.addClass("menu-open")},closeMenu:function(t){"object"==typeof t&&"key"===t.type&&"Escape"!==t.key||this.$navMenu.removeClass("menu-open")}},n={init:function(){this.cacheDom(),this.eventListeners()},cacheDom:function(){this.$mainContainer=i(".digthis-list-container"),this.$filterForm=this.$mainContainer.find(".filter-items form"),this.$itemContainer=this.$mainContainer.find(".item-container"),this.$paginationContainer=this.$mainContainer.find(".pagination"),this.$pagination=this.$paginationContainer.find(".page-numbers"),this.$itemFilters=this.$mainContainer.find(".item-filters")},eventListeners:function(){this.$filterForm.on("submit",this.getSearchResult.bind(this)),this.$paginationContainer.on("click","ul.page-numbers .page-numbers:not(.current)",this.getPageNumber.bind(this)),this.$itemFilters.on("change","#category",this.filterItems.bind(this))},getPageNumber:function(t){t.preventDefault();var n={show_page:i(t.currentTarget).text(),base_page:this.$mainContainer.data("baseurl")};this.getItems(n)},getSearchResult:function(t){t.preventDefault();var n={search_term:i(t.currentTarget).find(".search").val()};this.getItems(n)},getItems:function(t){i.ajax({context:this,url:JSC.ajaxUrl,type:"POST",data:{action:"digthis_get_items",filters:t},beforeSend:function(){},success:function(t){console.log(t.data),!0===t.success?t.data.listHTML&&this.renderItems(t.data.listHTML,t.data.pagination):this.renderItems(t.data.message,"")}})},filterItems:function(t){t.preventDefault();var n=i(t.currentTarget).val();this.getItems({category_id:n})},renderItems:function(t,n){this.$itemContainer.html(t),this.$paginationContainer.html(n)}},a={common:{init:function(){t.init(),n.init()},finalize:function(){console.log("at the end of document ready")}},home:{init:function(){console.log("test")}}},s={fire:function(t,n,e){var i=a;n=void 0===n?"init":n,""!==t&&i[t]&&"function"==typeof i[t][n]&&i[t][n](e)},loadEvents:function(){var e=document.body.id;s.fire("common"),i.each(document.body.className.split(/\s+/),function(t,n){s.fire(n),s.fire(n,e)}),s.fire("common","finalize")}};i(function(){s.loadEvents()})}(jQuery);